define(["Gwa.Event.Dispatcher"],function(a){return function(){var b=new a,c={},d={on:function(a,c){return b.on(a,c)},off:function(a,c){b.off(a,c)},set:function(a,e){c[a]!==e&&(c[a]=e,b.dispatch(a.toUpperCase()+"_CHANGE",e,d),b.dispatch("SETTINGS_CHANGE",a,e,d))},unset:function(a){delete c[a],b.dispatch(a.toUpperCase()+"_CHANGE",void 0,d),b.dispatch("SETTINGS_CHANGE",a,void 0,d)},get:function(a){return"undefined"==typeof a?c:c[a]},keys:function(){var a,b=[];for(a in c)b.push(a);return b}};return d}});